# 1. 누적합

### Concept

→ 누적 합은 배열 A에 들어있는 값이 바뀌지 않는다는 점을 이용한다. **배열이 변하지 않으니 구간의 합도 변하지 않는다.** 따라서 앞에서부터 **차례대로 누적된 합을 구해놓고 이를 이용해서 구간의 합을 구할 수 있다.**

$$
S[i] = A[1] + ... + A[i], S[0]=0
$$

위와 같이 l 번째 수까지 구간의 합을 정의할 때,

i번째 수부터 r 번째 수까지 합은 $S[r] - S[l-1]$ 과 같다.

<br>

### 문제

→ 크기가 N 인 정수 배열 A가 있고, 여기서 A의 일부분 구간 합을 구하는 연산을 최대 M번 수행해야 한다.

```java
int ans = 0;
for (int i=l; i<=r; i++) {
    ans += a[i];
}
```

위 코드처럼 배열 값을 일일이 더하여 합을 구하면 시간 복잡도가 $O(NM)$  으로 N이 클 경우 매우 오래 걸린다. 대신 아래 코드와 같이 누적합 개념을 사용하여 구간의 합을 구하게 되면 누적 합을 저장할 배열 $S$ 를 구하는 시간 $O(N)$ 만 걸리고, 구간의 합을 구하는 시간은 뺄셈 연산 한 번만 하면 되므로 $O(1)$ 이다. 이때 같은 연산을 총 M번 수행하게 되면 $O(M)$ 만 걸리게 된다.

<br>

### 구현

```java
for (int i=1; i<=n; i++) {
    s[i] = s[i-1] + a[i];
}
```

결국 누적합 개념을 적용하여 $O(NM) -> O(N + M)$ 으로 시간 복잡도가 효과적으로 줄어드는 것을 확인할 수 있다.

<br>

[Reference](https://book.acmicpc.net/algorithm/prefix-sum)