# 22-07-14 [09] 컬렉션(Collection)_제네릭(Generic)

---

  - [제네릭 개요](#제네릭-개요) 
  - [제네릭(Generic)](#제네릭generic)
  - [제네릭 클래스 정의](#제네릭-클래스-정의)
  - [제네릭 클래스 인스턴스화](#제네릭-클래스-인스턴스화)

---

## ✏️ Goal of Study

**제네릭(Generic)**

- 제네릭의 장점을 이해한다.
- 제네릭 클래스를 정의하고 활용할 수 있다.
- 제네릭 메서드를 정의하고 활용할 수 있다.

---

### **제네릭 개요**

일반적으로 클래스 내부의 코드를 작성할 때 아래와 같이 작성해 왔다.

```java
class Basket {
    private String item;

    Basket(String item) {
        this.item = item;
    }

    public String getItem() {
        return item;
    }

    public void setItem(String item) {
        this.item = item;
    }
}

```

위 코드에서 `item`의 타입은 `String`으로 고정되어 있다. 만약 `basket` 클래스와 똑같은 기능을 하면서 인스턴스 변수 `item`에 다른 타입의 데이터도 저장할 수 있게 하려면 각 타입별로 같은 내용의 클래스를 만들어야 한다.

```java
class BasketString { private String item; ... }
class BasketInteger { private int item; ... }
class BasketChar { private char item; ... }
class BasketDouble { private double item; ... }
...
```

**⭐️ 위 코드와 같은 불필요한 번거로움을 `제네릭(generic)`을 통해 해결할 수 있다!**

🌈 제네릭 필요성에 관한 Ref 👉 [Why do we need generics in Java?](https://www.tutorialspoint.com/why-do-we-need-generics-in-java)

<br>

### **제네릭(Generic)**

위 `basket` 예제와 달리 `제네릭`을 사용하면 **단 하나의 `basket` 클래스만으로 모든 타입의 데이터를 저장할 수 있는 인스턴스를 생성할 수 있다. ✨**

Ex. 제네릭 적용한 `basket` 클래스
```java
class Basket<T> {
    private T item;

    public Basket(T item) {
        this.item = item;
    }

    public T getItem() {
        return item;
    }

    public void setItem(T item) {
        this.item = item;
    }
}
```

기존 코드와 달리 `<T>`가 클래스 오른쪽에 추가되었고, `String` 타입이 `T`로 대치되었다. <u>여기서 `<T>`와 `T`가 제네릭 문법에 해당된다.</u>

<br>

제네릭을 적용한 클래스를 인스턴스화 할 때 다음과 같이 할 수 있다.
```java
Basket<String> basket1 = new Basket<String>("기타줄");

```

인스턴스화 할 때, 참조변수의 타입으로 `클래스명<타입>`으로 객체를 참조한다. 이는 제네릭 문법으로 <u>해당 클래스 내의 `T`를 명시된 `타입`으로 바꾸라는 의미와 같다.</u> 즉, 클래스 내부의 `T`가 모두 `타입`으로 치환되는 것과 같다.

<br>

✅ `<타입>` 작성 시 주의 사항 ❗️

제네릭 문법 사용 시 `타입`에는 반드시 래퍼 클래스(wrapper class)가 와야 한다. <u>원시 데이타 타입(int, char, short, byte etc)이 오면 안된다.</u>

🌈 래퍼 클래스 참고 자료 👉 [Why do we need a wrapper class in Java?](https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java)

<br>

**제네릭 본질에 관하여 🧐**

> 제네릭(Generic)은 사전적으로 ‘일반적인’이라는 의미를 가지고 있다. 자바에서 제네릭이란, 위에서 살펴본 것처럼 클래스나 메서드의 코드를 작성할 때, <u>타입을 구체적으로 지정하는 것이 아니라, 추후에 지정할 수 있도록 일반화 해두는 것을 의미합니다.</u> 즉, 작성한 <u>클래스 또는 메서드의 코드가 특정 데이터 타입에 얽매이지 않게 해둔 것을 의미합니다.</u>

<br>

### **제네릭 클래스 정의**

- 제네릭 문법이 적용된 클래스를 `제네릭 클래스`라고 한다.
- `<T>`와 같이 꺽쇠 안에 있는 `T`를 `타입 매개변수`라고 한다. 클래스 내부에서 임의의 타입으로 사용할 수 있다.
- 만약 타입 매개변수를 여러 개 사용해야 한다면, `<K, V>`와 같이 `쉼표(,)`로 구분하여 작성할 수 있다.
- 타입 매개변수는 임의의 문자로 지정할 수 있다. 자주 사용되는 문자로는 아래와 같다.
  - `T` ➡️ Type
  - `K` ➡️ Key
  - `V` ➡️ Value
  - `E` ➡️ Element
  - `N` ➡️ Number
  - `R` ➡️ Result


<br>

**✅ 제네릭 클래스 정의 시 주의할 점**

<u>클래스 변수에는 타입 매개변수를 사용할 수 없습니다.</u> ❌

```java
class Basket<T> {
	private T item1; // O 
	static  T item2; // X 
}
```

> 왜 클래스 변수에는 타입 매개변수를 사용 못 할까❓
>
> 클래스 변수는 모든 인스턴스가 공유하는 변수이다. 만약, 클래스 변수에 타입 매개변수를 사용할 수 있다면 클래스 변수의 타입이 인스턴스 별로 달라지게 된다. 예를 들어, 클래스 변수에 타입 매개변수를 사용할 수 있다면 `Basket<String>`으로 만든 인스턴스와, `Basket<Integer>`로 만든 인스턴스가 <u>공유하는 클래스 변수의 타입이 서로 달라지게 되어, 클래스 변수를 통해 같은 변수를 공유하는 것이 아니게 된다.</u> <u>따라서 static이 붙은 변수 또는 메서드에는 타입 매개변수를 사용할 수 없다.</u>

<br>

### **제네릭 클래스 인스턴스화**

> 제네릭 클래스는 멤버를 구성하는 코드에 특정한 타입이 지정되지 않은 클래스이므로, <u>제네릭 클래스를 인스턴스화할 때에는 의도하고자 하는 타입을 명시해주어야 한다.</u> 단, <u>타입 매개변수에 치환될 타입으로 기본 타입을 지정할 수 없다.</u> 만약, `int`, `double`과 같은 원시 타입을 지정해야 하는 맥락에서는 `Integer`, `Double`과 같은 래퍼 클래스를 활용한다.


```java
Basket<String>  basket1 = new Basket<String>("Hello");
Basket<Integer> basket2 = new Basket<Integer>(10);
Basket<Double>  basket3 = new Basket<Double>(3.14);

// 객체의 구체적인 타입을 생략하고 작성해도 된다. 참조변수의 타입으로부터 유추할 수 있기 때문이다.
Basket<String>  basket1 = new Basket<>("Hello");
Basket<Integer> basket2 = new Basket<>(10);
Basket<Double>  basket2 = new Basket<>(3.14);
```
